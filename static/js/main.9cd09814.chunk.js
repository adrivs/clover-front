(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),o=a(10),s=a(22),u=(a(32),a(8)),i=a(6),m=a.n(i),p=a(11),E=a(12),d=a.n(E),f=a(51),v=a.n(f),b=function(e,t){return function(a){var n=v.a.v4();a({type:"SET_ALERT",payload:{msg:e,alertType:t,id:n}}),setTimeout(function(){return a({type:"REMOVE_ALERT",payload:n})},3e3)}},g=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},h=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&g(localStorage.token),e.prev=1,e.next=4,d.a.get("/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},y=Object(u.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e){e({type:"LOGOUT"}),e({type:"CLEAR_PROFILE"})}}})(function(e){var t=e.auth.isAuthenticated,a=e.logout,l=e.loading,c=r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav logs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/events"},r.a.createElement("span",null,"Events"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/dashboard"},r.a.createElement("span",null,"Dashboard"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",onClick:a},r.a.createElement("span",null,"Logout"))))),s=r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav logs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/register"},r.a.createElement("span",null,"Register"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/login"},r.a.createElement("span",null,"Login")))));return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark"},r.a.createElement("div",null,r.a.createElement(o.b,{className:"navbar-brand",to:"/"},r.a.createElement("span",{className:"brand-title"},"Clover")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}))),!l&&r.a.createElement(n.Fragment,null,t?c:s)))}),N=function(e){return r.a.createElement("div",{className:"info-section-landing"},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,e.text))},O=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",{className:"rights"},"\xa92019 CLOVER, ALL RIGHTS RESERVED"))},w=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){return e.isAuthenticated?r.a.createElement(s.a,{to:"/dashboard"}):r.a.createElement("div",null,r.a.createElement("div",{className:"first-section-landing"},r.a.createElement("div",{className:"container main-text-landing"},r.a.createElement("h1",null,"Are you new to your city and do ",r.a.createElement("br",null)," not know anyone?"),r.a.createElement("p",null,"Meet new people who speaks your same language!"))),r.a.createElement("div",{className:" second-section-landing"},r.a.createElement(N,{title:"Create your account",text:"It will take less than a minute to have your account"}),r.a.createElement(N,{title:"Fill your profile",text:"Introduce the languages that you talk and where you are living"}),r.a.createElement(N,{title:"Find or create an event",text:"Find or create an event in your city and you will meet new people"})),r.a.createElement("div",{id:"carouselExampleControls",className:"carousel slide carousel-opinions ","data-ride":"carousel"},r.a.createElement("h2",null,"Opinions"),r.a.createElement("div",{className:"carousel-inner container"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("blockquote",{class:"blockquote mb-0"},r.a.createElement("p",null,"This web is so good. I have made a lot of new friends and I have improved my english. I recommend it!"),r.a.createElement("footer",{class:"blockquote-footer"},r.a.createElement("cite",{title:"Source Title"},"John Doe")))))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("blockquote",{class:"blockquote mb-0"},r.a.createElement("p",null,"The platform is awesome. I can visit new places with people that I don't know and communicate in the same language."),r.a.createElement("footer",{class:"blockquote-footer"},r.a.createElement("cite",{title:"Source Title"},"Winston Smith")))))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("blockquote",{class:"blockquote mb-0"},r.a.createElement("p",null,"I have to say that I have met my new girlfriend because of this web. I'm so happy with this, use it!"),r.a.createElement("footer",{class:"blockquote-footer"},r.a.createElement("cite",{title:"Source Title"},"Fulano Mengano"))))))),r.a.createElement("a",{className:"carousel-control-prev ",href:"#carouselExampleControls",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next"))),r.a.createElement("footer",null,r.a.createElement(O,null)))}),j=a(18),x=a(7),R=a(13),k=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{setAlert:b,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(p.a)(m.a.mark(function e(r){var l,c,o,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,d.a.post("/users",c,l);case 5:o=e.sent,r({type:"REGISTER_SUCCESS",payload:o.data}),r(h()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(s=e.t0.response.data.errors)&&s.forEach(function(e){return r(b(e.msg,"danger"))}),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.setAlert,a=e.register,l=e.isAuthenticated,c=Object(n.useState)({name:"",email:"",password:"",password2:""}),u=Object(R.a)(c,2),i=u[0],E=u[1],d=i.name,f=i.email,v=i.password,b=i.password2,g=function(e){return E(Object(x.a)({},i,Object(j.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(p.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),v!==b?t("Passwords do not match","danger"):a({name:d,email:f,password:v});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l?r.a.createElement(s.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container register-container"},r.a.createElement("br",null),r.a.createElement("h2",null,"Create an account"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){return h(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Full Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:d,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",className:"form-control",name:"email",value:f,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",id:"password",value:v,onChange:function(e){return g(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Confirm your password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password2",id:"password2",value:b,onChange:function(e){return g(e)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-clover"},"Create")),r.a.createElement("br",null),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(o.b,{to:"/login"},"Log In"))))}),T=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r,l,c,o;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},l=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,d.a.post("/auth",l,r);case 5:c=a.sent,n({type:"LOGIN_SUCCESS",payload:c.data}),n(h()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),(o=a.t0.response.data.errors)&&o.forEach(function(e){return n(b(e.msg,"danger"))}),n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}},a,null,[[2,10]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.login,a=e.isAuthenticated,l=Object(n.useState)({email:"",password:""}),c=Object(R.a)(l,2),u=c[0],i=c[1],E=u.email,d=u.password,f=function(e){return i(Object(x.a)({},u,Object(j.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(p.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(E,d);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(s.a,{to:"/events"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container register-container"},r.a.createElement("br",null),r.a.createElement("h2",null,"Log In"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){return v(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",className:"form-control",name:"email",value:E,onChange:function(e){return f(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",id:"password",value:d,onChange:function(e){return f(e)},required:!0,minLength:"6"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-clover"},"Log In")),r.a.createElement("br",null),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(o.b,{to:"/register"},"Sign In"))))}),C=Object(u.b)(function(e){return{alerts:e.alert}})(function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map(function(e){return r.a.createElement("div",{key:e.id,className:"container alert alert-".concat(e.alertType)},e.msg)})}),S=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/profile/me");case 3:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"PROFILE_ERROR"});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},_=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(p.a)(m.a.mark(function n(r){var l,c,o;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l={headers:{"Content-type":"application/json"}},n.next=4,d.a.post("profile",e,l);case 4:c=n.sent,r({type:"GET_PROFILE",payload:c.data}),r(b(a?"Profile updated":"Profile created","success")),a||t.push("/dashboard"),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),(o=n.t0.response.data.errors)&&o.forEach(function(e){return r(b(e.msg,"danger"))}),r({type:"PROFILE_ERROR",payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 15:case"end":return n.stop()}},n,null,[[0,10]])}));return function(e){return n.apply(this,arguments)}}()},L=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/events");case 3:a=e.sent,t({type:"GET_EVENTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"EVENT_ERROR",payload:{status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},A=Object(u.b)(null,{addEvent:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n,r,l;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-type":"application/json"}},t.prev=1,t.next=4,d.a.post("/events/",e,n);case 4:return r=t.sent,a({type:"ADD_EVENT",payload:r.data}),a(b("Event created","success")),t.next=9,d.a.get("/events");case 9:l=t.sent,a({type:"GET_EVENTS",payload:l.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),a({type:"EVENT_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 16:case"end":return t.stop()}},t,null,[[1,13]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.addEvent,a=Object(n.useState)({title:"",date:"",location:"",language:""}),l=Object(R.a)(a,2),c=l[0],o=l[1],s=c.title,u=c.date,i=c.location,m=c.language,p=function(e){o(Object(x.a)({},c,Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container create-event"},r.a.createElement("h2",null,"Create an event"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t(c),o({title:"",date:"",location:"",language:""})}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",value:s,name:"title",className:"form-control",onChange:function(e){return p(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement("input",{type:"datetime-local",value:u,name:"date",className:"form-control",onChange:function(e){return p(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Location"),r.a.createElement("input",{type:"text",value:i,name:"location",className:"form-control",onChange:function(e){return p(e)}}),r.a.createElement("small",{className:"form-text"},"Please use this format (Place, City)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Language"),r.a.createElement("input",{type:"text",value:m,name:"language",className:"form-control",onChange:function(e){return p(e)}})),r.a.createElement("button",{type:"submit",className:"btn btn-sm btn-clover"},r.a.createElement("span",null,"Create"))))}),I=Object(u.b)(function(e){return{profile:e.profile,auth:e.auth}},{getProfileById:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/profile/user/".concat(e));case 3:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},deleteAccount:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure?")){e.next=12;break}return e.prev=1,e.next=4,d.a.delete("/profile");case 4:t({type:"CLEAR_PROFILE"}),t({type:"ACCOUNT_DELETED"}),t(b("Your account has been deleted","success")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getProfileById,a=e.deleteAccount,l=e.profile,c=l.profile,s=l.loading,u=e.auth;return Object(n.useEffect)(function(){t(c.user._id)},[t,c.user._id]),r.a.createElement(n.Fragment,null,null===c||s?r.a.createElement("h2",null,"Loading..."):r.a.createElement("div",{className:"container profile-view"},r.a.createElement("h2",{className:"name-profile"},c.user.name),r.a.createElement("p",{className:"bio-profile"},c.bio),c.languages.join(", "),r.a.createElement("p",{className:"location-profile"},c.location),u.isAuthenticated&&!1===u.loading&&u.user._id===c.user._id&&r.a.createElement(o.b,{className:"btn btn-sm btn-clover",to:"/edit-profile"},r.a.createElement("span",null,"Edit profile")),r.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){return a()}},"Delete account")))}),P=Object(u.b)(function(e){return{auth:e.auth,profile:e.profile,event:e.event}},{getCurrentProfile:S,getEvents:L})(function(e){var t=e.getCurrentProfile,a=(e.auth.user,e.profile.profile),l=(e.event.events,e.loading);return Object(n.useEffect)(function(){t()},[t]),l&&null===a?r.a.createElement("div",{className:"container"},"Loading..."):r.a.createElement("div",{className:"container"},r.a.createElement("div",null,null!==a?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:""},r.a.createElement(I,null),r.a.createElement(A,null),r.a.createElement("div",null,console.log(a.user._id)))):r.a.createElement(n.Fragment,null,"You have not yet your profile finished, please do it."," ",r.a.createElement("br",null),r.a.createElement(o.b,{to:"/create-profile",className:""},"Create Profile"))))}),F=Object(u.b)(null,{createProfile:_})(Object(s.f)(function(e){var t=e.createProfile,a=e.history,l=Object(n.useState)({location:"",bio:"",languages:[]}),c=Object(R.a)(l,2),o=c[0],s=c[1],u=o.location,i=o.bio,m=o.languages,p=function(e){s(Object(x.a)({},o,Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:" container  profile-container"},r.a.createElement("h2",null,"Create profile"),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(o,a)}(e)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Biography")," ",r.a.createElement("br",null),r.a.createElement("textarea",{required:!0,cols:"50",rows:"5",name:"bio",value:i,onChange:function(e){return p(e)}}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"City where you live"),r.a.createElement("br",null),r.a.createElement("input",{required:!0,name:"location",value:u,onChange:function(e){return p(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Introduce your favourites languages"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"languages",value:m,onChange:function(e){return p(e)}}),r.a.createElement("small",{className:"form-text"},"Please use comma separated values (eg. Spanish, Swedish, Polish)")))),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-clover"},"Create"))))})),D=Object(u.b)(function(e){return{profile:e.profile}},{createProfile:_,getCurrentProfile:S})(Object(s.f)(function(e){var t=e.profile,a=t.profile,l=t.loading,c=e.createProfile,s=e.history,u=e.getCurrentProfile,i=Object(n.useState)({location:"",bio:"",languages:[]}),m=Object(R.a)(i,2),p=m[0],E=m[1];Object(n.useEffect)(function(){u(),E({location:l||!a.location?"":a.location,bio:l||!a.bio?"":a.bio,languages:l||!a.languages?"":a.languages.join(",")})},[u,l]);var d=p.location,f=p.bio,v=p.languages,b=function(e){E(Object(x.a)({},p,Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:" container profile-container"},r.a.createElement("h2",null,"Edit profile"),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),c(p,s,!0)}(e)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Biography")," ",r.a.createElement("br",null),r.a.createElement("textarea",{required:!0,cols:"50",rows:"5",name:"bio",value:f,onChange:function(e){return b(e)},className:"textarea-profile"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"City where you live"),r.a.createElement("br",null),r.a.createElement("input",{required:!0,name:"location",value:d,onChange:function(e){return b(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Introduce your favourites languages"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"languages",value:v,onChange:function(e){return b(e)}}),r.a.createElement("small",{className:"form-text"},"Please use comma separated values (eg. Spanish, Swedish, Polish)")))),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-clover"},"Edit"),r.a.createElement(o.b,{to:"/dashboard",className:"btn btn-light"},"Go back"))))})),G=a(59),U=Object(u.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,l=a.loading,c=Object(G.a)(e,["component","auth"]);return r.a.createElement(s.b,Object.assign({},c,{render:function(e){return n||l?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/"})}}))}),V=Object(u.b)(function(e){return{profile:e.profile}},{getProfiles:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CLEAR_PROFILE"}),e.prev=1,e.next=4,d.a.get("/profile");case 4:a=e.sent,t({type:"GET_PROFILES",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getProfiles,a=e.profile;a.profiles,a.loading;return Object(n.useEffect)(function(){t()},[t]),r.a.createElement(n.Fragment,null)}),q=a(57),Y=a(54),J=a.n(Y),M=Object(u.b)(function(e){return{auth:e.auth}},{joinEvent:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.put("/events/join/".concat(e));case 3:n=t.sent,a({type:"UPDATE_USERS_ATTENDING",payload:{id:e,usersAttending:n.data}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"EVENT_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},takeOffEvent:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.put("/events/takeoff/".concat(e));case 3:n=t.sent,a({type:"UPDATE_USERS_ATTENDING",payload:{id:e,usersAttending:n.data}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"EVENT_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},deleteEvent:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.delete("/events/".concat(e));case 3:a({type:"DELETE_EVENT",payload:e}),a(b("Event deleted","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"EVENT_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t=e.auth,a=e.takeOffEvent,l=e.joinEvent,c=e.deleteEvent,o=e.event,s=o._id,u=o.title,i=o.date,E=o.location,f=o.language,v=o.user,b=o.usersAttending;Object(n.useEffect)(function(){O(),N(Object(x.a)({},y,{width:window.innerWidth<761?300:500}))},[]);var g=Object(n.useState)({width:null,height:230,latitude:37.7577,longitude:-122.4376,zoom:13}),h=Object(R.a)(g,2),y=h[0],N=h[1],O=function(){var e=Object(p.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/events/".concat(s,"/latlang"));case 3:return t=e.sent,a=[t.data[0].lat,t.data[0].lon],N(Object(x.a)({},y,{latitude:parseFloat(t.data[0].lat),longitude:parseFloat(t.data[0].lon)})),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("p",null,r.a.createElement("strong",null,"Title:")," ",u),r.a.createElement("p",null,r.a.createElement("strong",null,"Date: "),r.a.createElement(J.a,{format:"YYYY-MM-DD HH:mm"},i)),r.a.createElement("p",null,r.a.createElement("strong",null,"Location:")," ",E),r.a.createElement("p",null,r.a.createElement("strong",null,"Language:")," ",f),r.a.createElement("p",null,r.a.createElement("strong",null,"Users attending:")," ",b.length)),r.a.createElement("div",{className:"col-lg-8 map-div"},r.a.createElement(q.a,{width:y.width,height:y.height,latitude:y.latitude,longitude:y.longitude,zoom:y.zoom,mapboxApiAccessToken:"pk.eyJ1IjoiYWRyaXZzIiwiYSI6ImNqbnVmMmJqYjB2cnozcHM1Y2o4dHc4Z3QifQ.FibwG1DRrJ2LTDQfAcy99A"})))),r.a.createElement("div",null,r.a.createElement("div",{className:"attending set-buttons"},r.a.createElement("button",{onClick:function(e){return l(s)},className:"btn btn-sm btn-clover btn-join"},r.a.createElement("span",null,"Join")),r.a.createElement("button",{onClick:function(e){return a(s)},className:"btn btn-sm btn-clover btn-take-off"},r.a.createElement("span",null,"Take off"))),!t.loading&&v===t.user._id&&r.a.createElement("button",{onClick:function(e){return c(s)},className:"btn btn-sm btn-danger"},"Delete")))}),B=Object(u.b)(function(e){return{event:e.event,events:e.events}},{getEvents:L})(function(e){var t=e.getEvents,a=e.event,l=a.events,c=a.loading;Object(n.useEffect)(function(){t()},[]);var o=Object(n.useState)({eventFiltered:""}),s=Object(R.a)(o,2),u=s[0],i=s[1],m=u.eventFiltered,p=l.filter(function(e){return e.location.toLowerCase().includes(m.toLowerCase())||e.language.toLowerCase().includes(m.toLowerCase())});return c?r.a.createElement("h2",null,"Loading...."):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container events-container"},r.a.createElement("div",{className:"row event-search"},r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("h1",{className:"large "},"Events")),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("input",{className:"form-control search-events",placeholder:"Search...",name:"term",value:m,onChange:function(e){return function(e){i({eventFiltered:e.target.value})}(e)}}))),r.a.createElement("div",{className:"events"},p.map(function(e){return r.a.createElement(M,{key:e._id,event:e})}))))}),H=a(21),W=a(55),z=a(56),Q=a(58),Z=[],X={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},$={profile:null,profiles:[],events:[],loading:!0,errors:{}},K={events:[],event:null,loading:!0,error:{}},ee=Object(H.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(Q.a)(e),[n]);case"REMOVE_ALERT":return e.filter(function(e){return e.id!==n});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(x.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(x.a)({},e,n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(x.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":return Object(x.a)({},e,{profile:n,loading:!1});case"GET_PROFILES":return Object(x.a)({},e,{profiles:n,loading:!1});case"PROFILE_ERROR":return Object(x.a)({},e,{errors:n,loading:!1});case"CLEAR_PROFILE":return Object(x.a)({},e,{profile:null,loading:!1});default:return e}},event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_EVENTS":return Object(x.a)({},e,{events:n,loading:!1});case"EVENT_ERROR":return Object(x.a)({},e,{error:n,loading:!1});case"UPDATE_USERS_ATTENDING":return Object(x.a)({},e,{events:e.events.map(function(e){return e._id===n.id?Object(x.a)({},e,{usersAttending:n.usersAttending}):e}),loading:!1});case"ADD_EVENT":return Object(x.a)({},e,{events:n,loading:!1});case"DELETE_EVENT":return Object(x.a)({},e,{events:e.events.filter(function(e){return e._id!==n}),loading:!1});default:return e}}}),te=[z.a],ae=Object(H.createStore)(ee,{},Object(W.composeWithDevTools)(H.applyMiddleware.apply(void 0,te)));localStorage.token&&g(localStorage.token);var ne=function(){return Object(n.useEffect)(function(){ae.dispatch(h())},[]),r.a.createElement(u.a,{store:ae},r.a.createElement(o.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(y,null),r.a.createElement(s.b,{exact:!0,path:"/",component:w}),r.a.createElement(C,null),r.a.createElement("section",null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/register",component:k}),r.a.createElement(s.b,{exact:!0,path:"/login",component:T}),r.a.createElement(U,{exact:!0,path:"/profiles",component:V}),r.a.createElement(U,{exact:!0,path:"/profile/:id",component:I}),r.a.createElement(U,{exact:!0,path:"/dashboard",component:P}),r.a.createElement(U,{exact:!0,path:"/create-profile",component:F}),r.a.createElement(U,{exact:!0,path:"/edit-profile",component:D}),r.a.createElement(U,{exact:!0,path:"/events",component:B}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(100);c.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,a){},60:function(e,t,a){e.exports=a(101)}},[[60,1,2]]]);
//# sourceMappingURL=main.9cd09814.chunk.js.map